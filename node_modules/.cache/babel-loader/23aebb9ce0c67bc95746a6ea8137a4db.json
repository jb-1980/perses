{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/joseph/projects/perses/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _toConsumableArray from \"/home/joseph/projects/perses/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"/home/joseph/projects/perses/src/widgets/categorizer-renderer.tsx\";\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n                        width: 30px;\\n                        height: 30px;\\n                        border-radius: 50%;\\n                        border: 3px solid;\\n                        box-sizing: border-box;\\n                        border-color: \", \";\\n                        background-color: \", \";\\n                        opacity: \", \";\\n                        &:hover {\\n                          opacity: \", \";\\n                        }\\n                      \"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n                      display: flex;\\n                      align-items: center;\\n                      justify-content: center;\\n                    \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n                padding: 5px;\\n                text-align: center;\\n              \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n          & tr:nth-child(odd) td,\\n          tr:nth-child(odd) th {\\n            background-color: #ededed;\\n          }\\n        \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n                padding: 5px;\\n                text-align: center;\\n              \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n        border-collapse: collapse;\\n        & > td {\\n          padding: 5px;\\n          text-align: center;\\n        }\\n      \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport { css } from \"emotion\";\nexport var Categorizer = function Categorizer(_ref) {\n  var _ref$categories = _ref.categories,\n      categories = _ref$categories === void 0 ? [] : _ref$categories,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      _ref$values = _ref.values,\n      values = _ref$values === void 0 ? [] : _ref$values,\n      getNewProps = _ref.getNewProps;\n\n  var validate = function validate(categoryId, itemId) {\n    var newValues = _toConsumableArray(values);\n\n    newValues[itemId] = categoryId;\n    getNewProps({\n      categories: categories,\n      items: items,\n      values: newValues\n    });\n  };\n\n  return React.createElement(\"table\", {\n    className: css(_templateObject()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"\\xA0\"), categories.map(function (category, i) {\n    return React.createElement(\"th\", {\n      key: i,\n      className: css(_templateObject2()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, category);\n  }))), React.createElement(\"tbody\", {\n    className: css(_templateObject3()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, items.map(function (item, i) {\n    return React.createElement(\"tr\", {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      className: css(_templateObject4()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, item), categories.map(function (_, c) {\n      var isSelected = values[i] === c;\n      return React.createElement(\"td\", {\n        key: \"\".concat(c, \":\").concat(i),\n        onClick: function onClick() {\n          return validate(c, i);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: css(_templateObject5()),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: css(_templateObject6(), isSelected ? \"transparent\" : \"var(--color-secondary)\", isSelected ? \"var(--color-secondary)\" : \"transparent\", isSelected ? 1 : 0.6, isSelected ? 0.6 : 1),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })));\n    }));\n  })));\n};\nexport default {\n  type: \"categorizer\",\n  displayName: \"Categorizer\",\n  widget: Categorizer,\n  grade: function grade(props, options) {\n    var correctValues = options.values;\n    var userValues = props.values;\n\n    for (var i = 0; i < userValues.length; i += 1) {\n      if (correctValues[i] !== userValues[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n  transform: function transform(options) {\n    return {\n      items: options.items,\n      categories: options.categories,\n      randomizeItems: options.randomizeItems\n    };\n  }\n};","map":{"version":3,"sources":["/home/joseph/projects/perses/src/widgets/categorizer-renderer.tsx"],"names":["React","css","Categorizer","categories","items","values","getNewProps","validate","categoryId","itemId","newValues","map","category","i","item","_","c","isSelected","type","displayName","widget","grade","props","options","correctValues","userValues","length","transform","randomizeItems"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { css } from \"emotion\"\n\nexport const Categorizer = ({\n  categories = [],\n  items = [],\n  values = [],\n  getNewProps,\n}) => {\n  const validate = (categoryId, itemId) => {\n    const newValues = [...values]\n    newValues[itemId] = categoryId\n    getNewProps({ categories, items, values: newValues })\n  }\n  return (\n    <table\n      className={css`\n        border-collapse: collapse;\n        & > td {\n          padding: 5px;\n          text-align: center;\n        }\n      `}\n    >\n      <thead>\n        <tr>\n          <th>&nbsp;</th>\n          {categories.map((category, i) => (\n            <th\n              key={i}\n              className={css`\n                padding: 5px;\n                text-align: center;\n              `}\n            >\n              {category}\n            </th>\n          ))}\n        </tr>\n      </thead>\n      <tbody\n        className={css`\n          & tr:nth-child(odd) td,\n          tr:nth-child(odd) th {\n            background-color: #ededed;\n          }\n        `}\n      >\n        {items.map((item, i) => (\n          <tr key={i}>\n            <th\n              className={css`\n                padding: 5px;\n                text-align: center;\n              `}\n            >\n              {item}\n            </th>\n            {categories.map((_, c) => {\n              const isSelected = values[i] === c\n\n              return (\n                <td key={`${c}:${i}`} onClick={() => validate(c, i)}>\n                  <div\n                    className={css`\n                      display: flex;\n                      align-items: center;\n                      justify-content: center;\n                    `}\n                  >\n                    <div\n                      className={css`\n                        width: 30px;\n                        height: 30px;\n                        border-radius: 50%;\n                        border: 3px solid;\n                        box-sizing: border-box;\n                        border-color: ${isSelected\n                          ? \"transparent\"\n                          : \"var(--color-secondary)\"};\n                        background-color: ${isSelected\n                          ? \"var(--color-secondary)\"\n                          : \"transparent\"};\n                        opacity: ${isSelected ? 1 : 0.6};\n                        &:hover {\n                          opacity: ${isSelected ? 0.6 : 1};\n                        }\n                      `}\n                    />\n                  </div>\n                </td>\n              )\n            })}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}\n\nexport default {\n  type: \"categorizer\",\n  displayName: \"Categorizer\",\n  widget: Categorizer,\n  grade: (props, options) => {\n    const { values: correctValues } = options\n    const { values: userValues } = props\n\n    for (let i = 0; i < userValues.length; i += 1) {\n      if (correctValues[i] !== userValues[i]) {\n        return false\n      }\n    }\n\n    return true\n  },\n  transform: options => ({\n    items: options.items,\n    categories: options.categories,\n    randomizeItems: options.randomizeItems,\n  }),\n}\n"]},"metadata":{},"sourceType":"module"}