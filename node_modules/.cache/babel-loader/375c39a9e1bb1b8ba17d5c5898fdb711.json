{"ast":null,"code":"import _objectSpread from \"/home/joseph/projects/perses/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _taggedTemplateLiteral from \"/home/joseph/projects/perses/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/joseph/projects/perses/src/widgets/categorizer-editor.tsx\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n          margin: 5px 0;\\n        \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport { css } from \"emotion\";\nimport { Categorizer } from \"./categorizer-renderer\";\nimport { TextListEditor } from \"../UI/text-list-editor\";\nimport { useEditorContext } from \"../contexts/editor-context\";\n\nvar CategorizerEditor = function CategorizerEditor(_ref) {\n  var id = _ref.id,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [\"\"] : _ref$items,\n      _ref$categories = _ref.categories,\n      categories = _ref$categories === void 0 ? [\"\"] : _ref$categories,\n      _ref$values = _ref.values,\n      values = _ref$values === void 0 ? [] : _ref$values,\n      _ref$randomizeItems = _ref.randomizeItems,\n      randomizeItems = _ref$randomizeItems === void 0 ? false : _ref$randomizeItems;\n\n  var _useEditorContext = useEditorContext(),\n      setWidgetProps = _useEditorContext.setWidgetProps;\n\n  var currentProps = {\n    items: items,\n    categories: categories,\n    values: values,\n    randomizeItems: randomizeItems\n  };\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: css(_templateObject()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: randomizeItems,\n    onChange: function onChange() {\n      return setWidgetProps(id, _objectSpread({}, currentProps, {\n        randomizeItems: !randomizeItems\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }), \"Randomize Item order\")), \"Categories:\", React.createElement(TextListEditor, {\n    list: categories,\n    setList: function setList(newCategories) {\n      return setWidgetProps(id, _objectSpread({}, currentProps, {\n        categories: newCategories\n      }));\n    },\n    layout: \"horizontal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), \"Items:\", React.createElement(TextListEditor, {\n    list: items,\n    setList: function setList(newItems) {\n      setWidgetProps(id, _objectSpread({}, currentProps, {\n        items: newItems\n      }));\n    },\n    layout: \"vertical\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(Categorizer, {\n    categories: categories.slice(0, -1),\n    items: items.slice(0, -1),\n    values: values,\n    getNewProps: function getNewProps(newProps) {\n      return setWidgetProps(id, newProps);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }));\n};\n\nexport default {\n  displayName: \"Categorizer\",\n  type: \"categorizer\",\n  editor: CategorizerEditor,\n  graded: true,\n  transform: function transform(props) {\n    return {\n      randomizeItems: props ? props.randomizeItems : false,\n      values: props ? props.values : [],\n      items: props ? props.items.filter(function (i) {\n        return i !== \"\";\n      }) : [],\n      categories: props ? props.categories.filter(function (i) {\n        return i !== \"\";\n      }) : []\n    };\n  }\n};","map":{"version":3,"sources":["/home/joseph/projects/perses/src/widgets/categorizer-editor.tsx"],"names":["React","css","Categorizer","TextListEditor","useEditorContext","CategorizerEditor","id","items","categories","values","randomizeItems","setWidgetProps","currentProps","newCategories","newItems","slice","newProps","displayName","type","editor","graded","transform","props","filter","i"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { css } from \"emotion\"\n\nimport { Categorizer } from \"./categorizer-renderer\"\nimport { TextListEditor } from \"../UI/text-list-editor\"\nimport { useEditorContext } from \"../contexts/editor-context\"\n\nconst CategorizerEditor = ({\n  id,\n  items = [\"\"],\n  categories = [\"\"],\n  values = [],\n  randomizeItems = false,\n}) => {\n  const { setWidgetProps } = useEditorContext()\n\n  const currentProps = { items, categories, values, randomizeItems }\n\n  return (\n    <div>\n      <div\n        className={css`\n          margin: 5px 0;\n        `}\n      >\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={randomizeItems}\n            onChange={() =>\n              setWidgetProps(id, {\n                ...currentProps,\n                randomizeItems: !randomizeItems,\n              })\n            }\n          />\n          Randomize Item order\n        </label>\n      </div>\n      Categories:\n      <TextListEditor\n        list={categories}\n        setList={newCategories =>\n          setWidgetProps(id, { ...currentProps, categories: newCategories })\n        }\n        layout=\"horizontal\"\n      />\n      Items:\n      <TextListEditor\n        list={items}\n        setList={newItems => {\n          setWidgetProps(id, { ...currentProps, items: newItems })\n        }}\n        layout=\"vertical\"\n      />\n      <Categorizer\n        categories={categories.slice(0, -1)}\n        items={items.slice(0, -1)}\n        values={values}\n        getNewProps={newProps => setWidgetProps(id, newProps)}\n      />\n    </div>\n  )\n}\n\nexport default {\n  displayName: \"Categorizer\",\n  type: \"categorizer\",\n  editor: CategorizerEditor,\n  graded: true,\n  transform: props => ({\n    randomizeItems: props ? props.randomizeItems : false,\n    values: props ? props.values : [],\n    items: props ? props.items.filter(i => i !== \"\") : [],\n    categories: props ? props.categories.filter(i => i !== \"\") : [],\n  }),\n}\n"]},"metadata":{},"sourceType":"module"}